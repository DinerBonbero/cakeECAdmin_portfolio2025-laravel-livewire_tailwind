# 簡易管理者機能付きECサイト<br>
## 使用した言語やツール<br>
### バックエンド<br>
PHP(Laravel/volt)<br>スターターキット Livewire
### フロントエンド<br>
HTML<br>
CSS(teilwind)<br>
### 画像加工<br>
フォトスケープx(画像加工アプリ)<br>
・切り取り、文字入れ、明るさ・サイズ調整などの簡単な操作をしました。<br>
### イラスト<br>
ibisPaintX(イラストアプリ)<br>
・イラストアプリを使ってプリンのイラストを作成しました。<br>
<img width="300" height="300" alt="purin" src="https://github.com/user-attachments/assets/a7fbc9f5-ac72-4497-a181-e731147dc695" />
<br><br>

## サイトの構成<br>
未ログインユーザー・一般ユーザー・管理者ユーザーの三つに分けて作成しました。<br>
### 未ログインユーザー<br>
商品一覧、商品詳細、ユーザー情報の登録ページのみ権限を持ちます。<br>
### 一般ユーザー<br>
未ログインユーザーのページ含めパスワード変更、個人情報、カート、商品の購入、購入履歴の確認・操作が可能になります。<br>
### 管理者ユーザー<br>
未ログインユーザーのページ含めパスワード変更、商品の登録と論理削除、<br>販売履歴の確認・操作が可能になります。<br>
販売履歴には複数条件検索とlivewireを用いて発送状況を動的に切り替えができるように実装しました。<br><br>

## 試行錯誤した点<br>

### 販売履歴検索画面



#### 検索機能をもつペジネーション
・検索後に入力欄にクエリを保持する処理<br>
・検索後に検索条件を保持し続けたままページリンク先に遷移できるようにする処理<br><br>

#### Livewireの使い方
・販売履歴の発送状況(発送・未発送)を動的に切り替える(Laravelに比べ情報が少なくかなり難航しました。)<br>
・切り替えと同時に未発送であれば背景を警告赤色にし発送済みの時は背景色をデフォルトにする処理がかなり難しかったです<br>

### 自作パスワード変更フロー
・考え方<br>
・デフォルト認証画面のバリデーションに合わせて作成する時、Rules\Password::defaults()の引数がないときどのルールが適用されるか試行錯誤しました。内部のvenderがかなり難解で要するにでしか意味を把握できませんでした。<br><br>

### 画像登録画面の画像登録
・商品登録での画像ファイルの扱い方<br><br>

### 管理者権限のルートミドルウェア
・当初@canで画面全体を囲った誤った認識や一括で権限をかける処理の適切な検索ができておらず難航しました。<br>

###　コンポーネント
・コンポーネントの理解<br>
メリット：繰り返し使用でき、メンテナンスが用意、x-記法が周囲の方々にとって見やすい<br>
デメリット：見づらくなり、解読やファイルを切り替えに時間を要してしまう<br>
・コンポーネントにhref属性を渡す処理<br>

### コンポーザ
・コンポーザへの理解不足により曖昧なまま検索したことにより答えに辿り着けず、ヘッダーコンポーネントのリンクをviewコンポーザを使用して条件分岐を実装する処理に難航しました<br>
・まだまだ未熟ですが、検索に難航したことにより「技術名」「目的」「処理内容」などで検索すると求めている情報を得やすいことがわかりました。

## 気を付けた点、意識した点
・PRGパターンの意識　・N+1問題(Nが邪魔)の認識　・欠けてはならない一連の処理にトランザクションを適用<br>
・コードの一貫性と綺麗さ(現時点では未熟ですが心がけました。)　・質問の頻度を少なくすること
